<!DOCTYPE html>
<html>
<head>
    <title>Ascension Earth Board Game</title>
    <style>
        #game-board {
         display: none;
        }
    button {
        color: white;
    }
    </style>
</head>
<body>
    <h1>Ascension Earth Board Game</h1>
    <button id="start">Start Game</button>
    <button id="roll-rewards">Roll for Rewards</button>
    <div id="game-board">
        <h2>Mountain Journey Reward Pool</h2>
        <ul id="mountain-journey-reward-pool"></ul>
        <h2>Cave Journey Reward Pool</h2>
        <ul id="cave-journey-reward-pool"></ul>
        <p id="current-turn">Player 1's Turn</p>
        <h2>Player 1</h2>
<p>Ascension Power: <span id="player1-ascension-power">0</span></p>
<button id="player1-meditate">Meditate</button>
<button id="player1-collect-rewards">Collect Mountain Journey Rewards</button>
<ul id="player1-cards"></ul>
<ul id="player1-rewards"></ul>

<h2>Player 2</h2>
<p>Ascension Power: <span id="player2-ascension-power">0</span></p>
<button id="player2-meditate">Meditate</button>
<button id="player2-collect-rewards">Collect Mountain Journey Rewards</button>
<ul id="player2-cards"></ul>
<ul id="player2-rewards"></ul> 
    </div>
<script>
class Player {
    constructor() {
        this.actionCards = ['Meditate', 'Mountain Journey', 'Cave Journey', 'Earth Advancement'];
        this.gameCards = [];
        this.spells = [];
        this.artifacts = [];
        this.teachings = [];
        this.ascensionPower = 0;
    }    
    meditate() {
        // Draw 2 game cards
        for (let i = 0; i < 2; i++) {
            let drawnCard = game.drawGameCard();
            this.gameCards.push(drawnCard);
            this.ascensionPower += drawnCard.power;
        }
    }
}

class Game {
    constructor() {
        this.players = [new Player(), new Player()];
        this.gameCards = [
    { name: 'Blue Lotus', power: 5 },
    { name: 'Magical Butterfly', power: 6 },
    { name: 'Temple Priestess', power: 7 },
    { name: 'Happy Holy Man', power: 8 },
    { name: 'Ancient Turtle', power: 9 }];
        this.spells = ['Empower the Meek', 'Channel Group Energy', 'Tribal Spirits', 'Third Eye Awakening'];
        this.artifacts = ['Mystic Orb', 'Spell Staff', 'Giant Crystal', 'Lucky Beads', 'Stone of Balance', 'Reincarnation Crystal', 'Sacred Plant Seed', 'Magnetic Crystal', 'Spirit Totem', 'Extra Terrestrial Artifact', 'Crystal Seeker Goggles', 'Mysterious Totem', 'Cosmic Robes'];
        this.teachings = ['Teaching 1', 'Teaching 2', 'Teaching 3']; // Replace with actual teachings
        this.shuffle(this.gameCards);
        this.shuffle(this.spells);
        this.shuffle(this.artifacts);
        this.shuffle(this.teachings);
        this.mountainJourneyRewardPool = [];
        this.caveJourneyRewardPool = [];
    }

    drawGameCard() {
    return this.gameCards.pop();
  }

    shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

rollReward() {
    const roll = Math.floor(Math.random() * 6) + 1;
    switch (roll) {
        case 1: return { type: 'Crystal Shard', ascensionPower: 5 };
        case 2: return { type: 'Crystal Shard', ascensionPower: 10 };
        case 3: return { type: 'Game Card', card: this.drawGameCard() };
        case 4: return { type: 'Artifact', artifact: this.artifacts.pop(), ascensionPower: 10 };
        case 5: return { type: 'Spell', spell: this.spells.pop(), ascensionPower: 15 };
        case 6: return { type: 'Crystal', ascensionPower: 20 };
    }
}

rollForRewards() {
    const numCards = Math.floor(Math.random() * 3) + 1; // Random number between 1 and 3
    for (let i = 0; i < numCards; i++) {
        this.mountainJourneyRewardPool.push(this.rollReward());
        this.caveJourneyRewardPool.push(this.rollReward());
    }
    document.getElementById('mountain-journey-reward-pool').innerHTML = this.mountainJourneyRewardPool.map(reward => `<li>${reward.type}: ${reward.card ? reward.card.name : ''}</li>`).join('');
    document.getElementById('cave-journey-reward-pool').innerHTML = this.caveJourneyRewardPool.map(reward => `<li>${reward.type}: ${reward.card ? reward.card.name : ''}</li>`).join('');
}
}

const game = new Game();
game.rollForRewards();
console.log(game.mountainJourneyRewardPool);
console.log(game.caveJourneyRewardPool);

document.getElementById('player1-meditate').addEventListener('click', function() {
  game.players[0].meditate();
  updateUI();
});

document.getElementById('player2-meditate').addEventListener('click', function() {
  game.players[1].meditate();
  updateUI();
});
function updateUI() {
    document.getElementById('player1-ascension-power').textContent = game.players[0].ascensionPower;
    document.getElementById('player2-ascension-power').textContent = game.players[1].ascensionPower;

    // Update player 1's cards
    let player1Cards = game.players[0].gameCards.map(card => `<li>${card.name} (Power: ${card.power})</li>`).join('');
    document.getElementById('player1-cards').innerHTML = player1Cards;

    // Update player 2's cards
    let player2Cards = game.players[1].gameCards.map(card => `<li>${card.name} (Power: ${card.power})</li>`).join('');
    document.getElementById('player2-cards').innerHTML = player2Cards;

     // Update reward pools
    document.getElementById('mountain-journey-reward-pool').innerHTML = game.mountainJourneyRewardPool.map(reward => `<li>${reward.type}: ${reward.card ? reward.card.name : ''}</li>`).join('');
    document.getElementById('cave-journey-reward-pool').innerHTML = game.caveJourneyRewardPool.map(reward => `<li>${reward.type}: ${reward.card ? reward.card.name : ''}</li>`).join('');
}
    document.getElementById('start').addEventListener('click', function() {
        document.getElementById('game-board').style.display = 'block'; // Show the game board
        document.getElementById('start').style.display = 'none'; // Hide the Start Game button
    });

let currentPlayer = 0;  // Assuming 0 is Player 1 and 1 is Player 2

document.getElementById('collect-mountain-rewards').addEventListener('click', function() {
    // Collect rewards for the current player
    game.players[currentPlayer].gameCards = game.players[currentPlayer].gameCards.concat(game.mountainJourneyRewardPool.filter(reward => reward.type === 'Game Card').map(reward => reward.card));
  // Display the rewards under the current player
    const currentPlayerRewardsElement = document.getElementById(`player${currentPlayer + 1}-rewards`);
    currentPlayerRewardsElement.innerHTML = game.mountainJourneyRewardPool.map(reward => `<li>${reward.type}: ${reward.card ? reward.card.name : ''}</li>`).join('');
    game.players[currentPlayer].ascensionPower += game.mountainJourneyRewardPool.filter(reward => reward.type !== 'Game Card').reduce((sum, reward) => sum + reward.ascensionPower, 0);

document.getElementById('player1-collect-rewards').addEventListener('click', function() {
    if (currentPlayer === 0) {
        // Collect rewards for Player 1
        // ... code to collect rewards ...

        switchTurn();
    }
});

document.getElementById('player2-collect-rewards').addEventListener('click', function() {
    if (currentPlayer === 1) {
        // Collect rewards for Player 2
        // ... code to collect rewards ...

        switchTurn();
    }
});


    // Reset the Mountain Journey Reward Pool
    game.mountainJourneyRewardPool = [];

    // Reset game cards for the current player
    game.players[currentPlayer].gameCards = [];

function updateUI() {

    // Disable/Enable buttons based on the current player
    document.getElementById('player1-meditate').disabled = (currentPlayer !== 0);
    document.getElementById('player1-collect-rewards').disabled = (currentPlayer !== 0); // Add this line
    document.getElementById('player2-meditate').disabled = (currentPlayer !== 1);
    document.getElementById('player2-collect-rewards').disabled = (currentPlayer !== 1); // Add this line
}


</script>

</body>
</html>
